# :heavy_check_mark:Fragment
: 하나의 화면을 여러 부분으로 나눠서 보여주거나 각각의 부분 화면 단위로 바꿔서 보여줄 때 사용
- 항상 액티비티 위에 올라가 있어야 함
- 여러 화면에 재사용 가능
- 생명 주기 존재 

`app` -> `new` -> `Fragment` -> `Fragment(Blank)`
> Fragment1.java
```java
public class Fragment1 extends Fragment {

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
        return inflater.inflate(R.layout.fragment_1, container, false);
    }
}
```
> fragmnet_1.xml
```xml
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#FF9800"
    tools:context=".Fragment1">

    <TextView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:text="Fragment1"
        android:textSize="35sp" />

</FrameLayout>
```
Fragment2도 위와 마찬가지로 수행해줌.

> activity_main.xml
```xml
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity"
    android:orientation="vertical">

    <Button
        android:id="@+id/button"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:text="Button" />

    <FrameLayout
        android:id="@+id/fragment_container"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

    </FrameLayout>
</LinearLayout>
```
> MainActivity.java
```java
// MainActivity.java
public class MainActivity extends AppCompatActivity {

    Fragment1 fragment1;
    Fragment2 fragment2;
    int index = 0;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        fragment1 = new Fragment1();
        fragment2 = new Fragment2();
        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, fragment1).commit();

        Button button = (Button) findViewById(R.id.button);
        button.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                if(index == 0) {
                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, fragment2).commit();
                    index = 1;
                }
                else {
                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container, fragment1).commit();
                    index = 0;
                }
            }
        });
    }
}
```
- **뒤로가기를 눌렀을때 fragment1로 돌아가고 싶을때**
```java
getSupportFragmentManager().beginTransaction().replace(R.id.container, fragment2).addToBackStack(null).commit();
```

# :heavy_check_mark:Action Bar
:자동으로 만들어지는 화면의 위쪽의 타이틀, 글자이외에도 메뉴가 표시될 수도 있음

`res` -> `Directory` -> menu 폴더 생성 -> `menu` -> menu_main.xml 생성
> menu_main.xml  
> `alt+enter`-> app 추가
```xml
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">
    <item
        android:id="@+id/menu_search"
        android:title="검색"
        app:showAsAction="always"/>
    <item
        android:id="@+id/menu_refresh"
        android:title="새로고침"
        app:showAsAction="always"/>
    <item
        android:id="@+id/menu_settings"
        android:title="설정"
        app:showAsAction="always"/>
</menu>
```
- **showAsAction**  

|속성 값|설명|
|------|---|
|always|항상 액션바에 아이템 추가하여 표시|
|never|액션바에 아이템을 추가하여 표시하지 않음 (디폴트값)|
|ifRoom|액션바에 여유 공간이 있을 때만 표시|
|withText|title 속성으로 설정된 저목을 같이 표시|
|collapseActionView|아이템에 설정된 뷰의 아이콘만 표시|

> MainActivity.java  
> `generate` -> `override methods` -> onCreateOptionsMenu,onOptionsItemSelected  

```java
//mainactivity에 보이게 설정
@Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.menu_main,menu);
        return true;
    }
//각 옵션 선택 되었을때 처리
@Override
    public boolean onOptionsItemSelected(@NonNull MenuItem item) {
        int curId = item.getItemId();
        switch(curId){
            case R.id.menu_refresh:
                Toast.makeText(this, "새로고침", Toast.LENGTH_SHORT).show();
                break;
            case R.id.menu_search:
                Toast.makeText(this, "검색", Toast.LENGTH_SHORT).show();
                break;
            case R.id.menu_settings:
                Toast.makeText(this, "설정", Toast.LENGTH_SHORT).show();
                break;
            default:
                break;
        }
        return super.onOptionsItemSelected(item);
    }
```
- **액션바 없애기**  
1. values/styles_xml  
```xml
<style name="AppTheme" parent="Theme.AppCompat.Light.NoActionBar"> 
```
2. MainActivity.java  
```java
//onCreate 메서드내에 추가
ActionBar abar = getSupportActionBar();
abar.hide();
```
